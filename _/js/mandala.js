// Generated by CoffeeScript 1.3.3
(function() {
  var Mandala;

  Mandala = (function() {

    function Mandala(id) {
      var timer;
      this.id = id;
      this.canvas_el = $("#" + this.id).get(0);
      this.width = this.canvas_el.width;
      this.height = this.canvas_el.height;
      this.avg = (this.width + this.height) / 2;
      this.mid = {
        x: this.width / 2,
        y: this.height / 2
      };
      this.num_circles = 6;
      this.offset = 0.0;
      this.canvas = this.canvas_el.getContext('2d');
      timer = setInterval((function(mandala) {
        mandala.draw();
        return mandala.offset += 0.01;
      }), 1000.0 / 30.0, this);
    }

    Mandala.prototype.draw = function() {
      var angle, i, x, y, _i, _ref, _results;
      this.canvas.clearRect(0, 0, this.height, this.width);
      this.canvas.beginPath();
      _results = [];
      for (i = _i = 0, _ref = this.num_circles - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {
        angle = ((2.0 * Math.PI / this.num_circles) * i) + this.offset;
        x = this.avg / 3 * Math.sin(angle);
        y = this.avg / 3 * Math.cos(angle);
        this.canvas.beginPath();
        this.canvas.arc(this.mid.x + x, this.mid.y + y, this.avg / 15, 0, 2.0 * Math.PI);
        _results.push(this.canvas.stroke());
      }
      return _results;
    };

    return Mandala;

  })();

  $(window).ready(function() {
    var m;
    return m = new Mandala('pad');
  });

}).call(this);
